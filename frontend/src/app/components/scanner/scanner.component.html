<div class="group">
  <div class="group-title">Scanner Settings</div>
  <div class="form-grid">
    <label>Quote <input pInputText [(ngModel)]="cfg.quote"></label>
    <label>Min price <p-inputNumber [(ngModel)]="cfg.min_price"></p-inputNumber></label>
    <label>Min vol USDT 24h <p-inputNumber [(ngModel)]="cfg.min_vol_usdt_24h"></p-inputNumber></label>
    <label>Top by volume <p-inputNumber [(ngModel)]="cfg.top_by_volume"></p-inputNumber></label>
    <label>Max pairs <p-inputNumber [(ngModel)]="cfg.max_pairs"></p-inputNumber></label>
    <label>Min spread bps <p-inputNumber [(ngModel)]="cfg.min_spread_bps"></p-inputNumber></label>
  </div>
  <p-button (onClick)="scan()" [disabled]="loading" [label]="loading ? 'Scanningâ€¦' : 'Scan'"></p-button>
</div>
<div *ngIf="err" class="err">{{ err }}</div>

<div *ngIf="best" class="group">
  <div class="group-title">Best: {{ best.symbol }}</div>
  <div class="muted">Spread {{ best.spread_bps | number:'1.2-2' }} bps; Vol {{ best.vol_usdt_24h | number:'1.0-0' }}</div>
</div>

<p-table *ngIf="top.length" [value]="top" styleClass="tbl small">
  <ng-template pTemplate="header">
    <tr><th>Symbol</th><th>Spread bps</th><th>Vol USDT</th><th>Score</th></tr>
  </ng-template>
  <ng-template pTemplate="body" let-s>
    <tr>
      <td class="mono">{{ s.symbol }}</td>
      <td class="mono">{{ s.spread_bps | number:'1.2-2' }}</td>
      <td class="mono">{{ s.vol_usdt_24h | number:'1.0-0' }}</td>
      <td class="mono">{{ s.score | number:'1.2-2' }}</td>
    </tr>
  </ng-template>
</p-table>
